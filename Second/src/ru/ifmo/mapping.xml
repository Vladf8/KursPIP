<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>

    <class name="ru.ifmo.БитваEntity" table="Битва" schema="public" catalog="pip">
        <id name="id">
            <column name="id" sql-type="integer"/>
        </id>
        <property name="idВойна">
            <column name="id_война" sql-type="integer"/>
        </property>
        <property name="победившаяСторона">
            <column name="Победившая_сторона" sql-type="integer" not-null="true"/>
        </property>
        <property name="дата">
            <column name="Дата" sql-type="date"/>
        </property>
        <many-to-one name="войнаByIdВойна" class="ru.ifmo.ВойнаEntity">
            <column name="id_война"/>
        </many-to-one>
        <many-to-one name="сторонаByПобедившаяСторона" class="ru.ifmo.СторонаEntity">
            <column name="Победившая_сторона" not-null="true"/>
        </many-to-one>
        <set name="самурайБитваsById" inverse="true">
            <key>
                <column name="id_битва"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.СамурайБитваEntity"/>
        </set>
        <set name="сторонаБитваsById" inverse="true">
            <key>
                <column name="id_битва"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.СторонаБитваEntity"/>
        </set>
    </class>
    <class name="ru.ifmo.ВойнаEntity" table="Война" schema="public" catalog="pip">
        <id name="id">
            <column name="id" sql-type="integer"/>
        </id>
        <property name="начало">
            <column name="Начало" sql-type="date"/>
        </property>
        <property name="конец">
            <column name="Конец" sql-type="date" not-null="true"/>
        </property>
        <set name="битваsById" inverse="true">
            <key>
                <column name="id_война"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.БитваEntity"/>
        </set>
        <set name="сторонаsById" inverse="true">
            <key>
                <column name="id_война"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.СторонаEntity"/>
        </set>
    </class>
    <class name="ru.ifmo.ДодзёEntity" table="Додзё" schema="public" catalog="pip">
        <id name="название">
            <column name="Название" sql-type="text"/>
        </id>
        <property name="описание">
            <column name="Описание" sql-type="text" not-null="true"/>
        </property>
        <set name="тренировкаsByНазвание" inverse="true">
            <key>
                <column name="Название_додзё"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.ТренировкаEntity"/>
        </set>
    </class>
    <class name="ru.ifmo.ДуэльEntity" table="Дуэль" schema="public" catalog="pip">
        <composite-id mapped="true" class="ru.ifmo.ДуэльEntityPK">
            <key-property name="первыйСамурай">
                <column name="Первый_самурай" sql-type="integer"/>
            </key-property>
            <key-property name="второйСамурай">
                <column name="Второй самурай" sql-type="integer"/>
            </key-property>
        </composite-id>
        <property name="idПобедивший">
            <column name="Id_победивший" sql-type="integer" not-null="true"/>
        </property>
        <many-to-one name="самурайByПервыйСамурай" class="ru.ifmo.СамурайEntity">
            <column name="Первый_самурай"/>
        </many-to-one>
        <many-to-one name="самурайByВторойСамурай" class="ru.ifmo.СамурайEntity">
            <column name="Второй самурай"/>
        </many-to-one>
    </class>
    <class name="ru.ifmo.ЗемельныйНаделEntity" table="Земельный_надел" schema="public" catalog="pip">
        <id name="название">
            <column name="Название" sql-type="text"/>
        </id>
        <property name="названиеКлан">
            <column name="Название_клан" sql-type="text" not-null="true"/>
        </property>
        <many-to-one name="кланByНазваниеКлан" class="ru.ifmo.КланEntity">
            <column name="Название_клан" not-null="true"/>
        </many-to-one>
        <set name="самурайsByНазвание" inverse="true">
            <key>
                <column name="Название_надела" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.СамурайEntity"/>
        </set>
    </class>
    <class name="ru.ifmo.ИнвентарьEntity" table="Инвентарь" schema="public" catalog="pip">
        <id name="id">
            <column name="id" sql-type="integer"/>
        </id>
        <property name="idХозяин">
            <column name="id_хозяин" sql-type="integer"/>
        </property>
        <property name="название">
            <column name="Название" sql-type="text"/>
        </property>
        <many-to-one name="самурайByIdХозяин" class="ru.ifmo.СамурайEntity">
            <column name="id_хозяин"/>
        </many-to-one>
    </class>
    <class name="ru.ifmo.КланEntity" table="Клан" schema="public" catalog="pip">
        <id name="название">
            <column name="Название" sql-type="text"/>
        </id>
        <property name="родовойЗнак">
            <column name="Родовой_знак" sql-type="text"/>
        </property>
        <property name="idГлава">
            <column name="id_глава" sql-type="integer"/>
        </property>
        <many-to-one name="самурайByIdГлава" class="ru.ifmo.СамурайEntity">
            <column name="id_глава"/>
        </many-to-one>
        <set name="земельныйНаделsByНазвание" inverse="true">
            <key>
                <column name="Название_клан" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.ЗемельныйНаделEntity"/>
        </set>
        <set name="кланСторонаsByНазвание" inverse="true">
            <key>
                <column name="Название_клана"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.КланСторонаEntity"/>
        </set>
        <set name="самурайsByНазвание" inverse="true">
            <key>
                <column name="Название_клана" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.СамурайEntity"/>
        </set>
    </class>
    <class name="ru.ifmo.КланСторонаEntity" table="Клан_Сторона" schema="public" catalog="pip">
        <composite-id mapped="true" class="ru.ifmo.КланСторонаEntityPK">
            <key-property name="названиеКлана">
                <column name="Название_клана" sql-type="text"/>
            </key-property>
            <key-property name="idСтороны">
                <column name="id_стороны" sql-type="integer"/>
            </key-property>
        </composite-id>
        <many-to-one name="кланByНазваниеКлана" class="ru.ifmo.КланEntity">
            <column name="Название_клана"/>
        </many-to-one>
        <many-to-one name="сторонаByIdСтороны" class="ru.ifmo.СторонаEntity">
            <column name="id_стороны"/>
        </many-to-one>
    </class>
    <class name="ru.ifmo.СамурайEntity" table="Самурай" schema="public" catalog="pip">
        <id name="id">
            <column name="id" sql-type="integer"/>
        </id>
        <property name="имя">
            <column name="Имя" sql-type="text"/>
        </property>
        <property name="возраст">
            <column name="Возраст" sql-type="smallint"/>
        </property>
        <property name="вес">
            <column name="Вес" sql-type="smallint"/>
        </property>
        <property name="рост">
            <column name="Рост" sql-type="smallint"/>
        </property>
        <property name="жив">
            <column name="Жив" sql-type="boolean"/>
        </property>
        <property name="названиеНадела">
            <column name="Название_надела" sql-type="text" not-null="true"/>
        </property>
        <property name="названиеКлана">
            <column name="Название_клана" sql-type="text" not-null="true"/>
        </property>
        <many-to-one name="земельныйНаделByНазваниеНадела" class="ru.ifmo.ЗемельныйНаделEntity">
            <column name="Название_надела" not-null="true"/>
        </many-to-one>
        <many-to-one name="кланByНазваниеКлана" class="ru.ifmo.КланEntity">
            <column name="Название_клана" not-null="true"/>
        </many-to-one>
        <set name="дуэльsById" inverse="true">
            <key>
                <column name="Первый_самурай"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.ДуэльEntity"/>
        </set>
        <set name="дуэльsById_0" inverse="true">
            <key>
                <column name="Второй самурай"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.ДуэльEntity"/>
        </set>
        <set name="инвентарьsById" inverse="true">
            <key>
                <column name="id_хозяин"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.ИнвентарьEntity"/>
        </set>
        <set name="кланsById" inverse="true">
            <key>
                <column name="id_глава"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.КланEntity"/>
        </set>
        <set name="самурайБитваsById" inverse="true">
            <key>
                <column name="id_самурай"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.СамурайБитваEntity"/>
        </set>
        <set name="самурайТренировкаsById" inverse="true">
            <key>
                <column name="id_самурай"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.СамурайТренировкаEntity"/>
        </set>
    </class>
    <class name="ru.ifmo.СамурайБитваEntity" table="Самурай_Битва" schema="public" catalog="pip">
        <composite-id mapped="true" class="ru.ifmo.СамурайБитваEntityPK">
            <key-property name="idСамурай">
                <column name="id_самурай" sql-type="integer"/>
            </key-property>
            <key-property name="idБитва">
                <column name="id_битва" sql-type="integer"/>
            </key-property>
        </composite-id>
        <many-to-one name="самурайByIdСамурай" class="ru.ifmo.СамурайEntity">
            <column name="id_самурай"/>
        </many-to-one>
        <many-to-one name="битваByIdБитва" class="ru.ifmo.БитваEntity">
            <column name="id_битва"/>
        </many-to-one>
    </class>
    <class name="ru.ifmo.СамурайТренировкаEntity" table="Самурай_Тренировка" schema="public" catalog="pip">
        <composite-id mapped="true" class="ru.ifmo.СамурайТренировкаEntityPK">
            <key-property name="idСамурай">
                <column name="id_самурай" sql-type="integer"/>
            </key-property>
            <key-property name="idТренировка">
                <column name="id_тренировка" sql-type="integer"/>
            </key-property>
        </composite-id>
        <many-to-one name="самурайByIdСамурай" class="ru.ifmo.СамурайEntity">
            <column name="id_самурай"/>
        </many-to-one>
        <many-to-one name="тренировкаByIdТренировка" class="ru.ifmo.ТренировкаEntity">
            <column name="id_тренировка"/>
        </many-to-one>
    </class>
    <class name="ru.ifmo.СторонаEntity" table="Сторона" schema="public" catalog="pip">
        <id name="idСторона">
            <column name="id_сторона" sql-type="integer"/>
        </id>
        <property name="idВойна">
            <column name="id_война" sql-type="integer"/>
        </property>
        <property name="статус">
            <column name="Статус" sql-type="boolean"/>
        </property>
        <many-to-one name="войнаByIdВойна" class="ru.ifmo.ВойнаEntity">
            <column name="id_война"/>
        </many-to-one>
        <set name="битваsByIdСторона" inverse="true">
            <key>
                <column name="Победившая_сторона" not-null="true"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.БитваEntity"/>
        </set>
        <set name="кланСторонаsByIdСторона" inverse="true">
            <key>
                <column name="id_стороны"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.КланСторонаEntity"/>
        </set>
        <set name="сторонаБитваsByIdСторона" inverse="true">
            <key>
                <column name="id_стороны"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.СторонаБитваEntity"/>
        </set>
    </class>
    <class name="ru.ifmo.СторонаБитваEntity" table="Сторона_Битва" schema="public" catalog="pip">
        <composite-id mapped="true" class="ru.ifmo.СторонаБитваEntityPK">
            <key-property name="idСтороны">
                <column name="id_стороны" sql-type="integer"/>
            </key-property>
            <key-property name="idБитва">
                <column name="id_битва" sql-type="integer"/>
            </key-property>
        </composite-id>
        <property name="ааа">
            <column name="ааа" sql-type="integer"/>
        </property>
        <many-to-one name="сторонаByIdСтороны" class="ru.ifmo.СторонаEntity">
            <column name="id_стороны"/>
        </many-to-one>
        <many-to-one name="битваByIdБитва" class="ru.ifmo.БитваEntity">
            <column name="id_битва"/>
        </many-to-one>
    </class>
    <class name="ru.ifmo.ТренировкаEntity" table="Тренировка" schema="public" catalog="pip">
        <id name="id">
            <column name="id" sql-type="integer"/>
        </id>
        <property name="названиеДодзё">
            <column name="Название_додзё" sql-type="text"/>
        </property>
        <property name="время">
            <column name="Время" sql-type="date"/>
        </property>
        <many-to-one name="додзёByНазваниеДодзё" class="ru.ifmo.ДодзёEntity">
            <column name="Название_додзё"/>
        </many-to-one>
        <set name="самурайТренировкаsById" inverse="true">
            <key>
                <column name="id_тренировка"/>
            </key>
            <one-to-many not-found="ignore" class="ru.ifmo.СамурайТренировкаEntity"/>
        </set>
    </class>
</hibernate-mapping>